{"version":3,"sources":["../src/reducer.test.js"],"names":[],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,mBAAK,MAAL,EAAa,UAAC,CAAD,EAAO;AACnB,KAAI,QAAQ,wBAAZ;AACA,GAAE,MAAF,CAAS,MAAM,IAAf;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,MADgB;AAEtB,QAAM;AACL,SAAM;AADD;AAFgB,EAAf,CAAR;;AAOA,GAAE,IAAF,CAAO,MAAM,IAAN,KAAe,MAAtB;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,IAAX,KAAoB,MAA3B;AACA,CAbD;;AAeA,mBAAK,MAAL,EAAa,UAAC,CAAD,EAAO;AACnB,KAAI,QAAQ,wBAAZ;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,KAAe,EAAtB;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,MADgB;AAEtB,QAAM;AAFgB,EAAf,CAAR;;AAKA,GAAE,IAAF,CAAO,MAAM,IAAN,KAAe,MAAtB;AACA,CAVD;;AAYA,mBAAK,MAAL,EAAa,UAAC,CAAD,EAAO;AACnB,KAAI,QAAQ,wBAAZ;AACA,GAAE,MAAF,CAAS,MAAM,IAAf;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,MADgB;AAEtB,QAAM;AACL,gBAAa,CADR;AAEL,gBAAa;AAFR;AAFgB,EAAf,CAAR;;AAQA,GAAE,IAAF,CAAO,MAAM,IAAN,KAAe,MAAtB;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,WAAX,KAA2B,CAAlC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,WAAX,KAA2B,EAAlC;AACA,CAfD;;AAiBA,mBAAK,UAAL,EAAiB,UAAC,CAAD,EAAO;AACvB,KAAI,QAAQ,wBAAZ;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,GAAhC;;AAEA,KAAM,WAAW,MAAM,IAAN,CAAW,CAAX,EAAc,CAAd,CAAjB;AACA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,UADgB;AAEtB;AAFsB,EAAf,CAAR;;AAKA,GAAE,IAAF,CAAO,MAAM,QAAN,CAAe,CAAf,KAAqB,SAAS,CAArC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,EAAhC;AACA,CAZD;;AAcA,mBAAK,gBAAL,EAAuB,UAAC,CAAD,EAAO;AAC7B,KAAI,QAAQ,wBAAZ;AACA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,EAAvB;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,gBADgB;AAEtB,SAAO;AAFe,EAAf,CAAR;;AAKA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,GAAvB;AACA,CAVD;;AAYA,mBAAK,2BAAL,EAAkC,UAAC,CAAD,EAAO;AACxC,KAAI,QAAQ,wBAAZ;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,gBADgB;AAEtB,SAAO;AAFe,EAAf,CAAR;AAIA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,GAAvB;AACA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,gBADgB;AAEtB,SAAO,GAFe;AAGtB,OAAK,EAAE,MAAM,WAAR;AAHiB,EAAf,CAAR;;AAMA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,EAAvB;AACA,CAfD;;AAiBA,mBAAK,qCAAL,EAA4C,UAAC,CAAD,EAAO;AAClD,KAAI,QAAQ,wBAAZ;AACA,KAAM,YAAY,MAAM,IAAN,CAAW,CAAX,CAAlB;;;AAGA,WAAU,GAAV,CAAc,oBAAY;AACzB,UAAQ,uBAAQ,KAAR,EAAe;AACtB,SAAM,UADgB;AAEtB;AAFsB,GAAf,CAAR;AAIA,WAAS,MAAT,CAAgB,KAAhB,CAAsB,EAAtB,EAA0B,GAA1B,CAA8B,iBAAS;AACtC,WAAQ,uBAAQ,KAAR,EAAe,EAAC,MAAM,gBAAP,EAAyB,YAAzB,EAAf,CAAR;AACA,GAFD;AAGA,EARD;;AAUA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,CAAhC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,GAAhC;;;AAGA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,UADgB;AAEtB,YAAU,MAAM,IAAN,CAAW,CAAX,EAAc,EAAd;AAFY,EAAf,CAAR;AAIA,OAAM,QAAN,CAAe,MAAf,CAAsB,KAAtB,CAA4B,EAA5B,EAAgC,GAAhC,CAAoC,iBAAS;AAC5C,UAAQ,uBAAQ,KAAR,EAAe,EAAC,MAAM,gBAAP,EAAyB,YAAzB,EAAf,CAAR;AACA,EAFD;;AAIA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,CAAhC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,EAAhC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,CAAhC;AACA,CA9BD","file":"reducer.test.js","sourcesContent":["import reducer from './reducer.js'\nimport test from 'ava'\n\ntest('INFO', (t) => {\n\tlet state = reducer()\n\tt.truthy(state.info)\n\n\tstate = reducer(state, {\n\t\ttype: 'INFO',\n\t\tinfo: {\n\t\t\ttext: 'asdf'\n\t\t}\n\t})\n\n\tt.true(state.mode === 'info')\n\tt.true(state.info.text === 'asdf')\n})\n\ntest('MODE', (t) => {\n\tlet state = reducer()\n\tt.true(state.mode === '')\n\n\tstate = reducer(state, {\n\t\ttype: 'MODE',\n\t\tmode: 'test'\n\t})\n\n\tt.true(state.mode === 'test')\n})\n\ntest('TEST', (t) => {\n\tlet state = reducer()\n\tt.truthy(state.test)\n\n\tstate = reducer(state, {\n\t\ttype: 'TEST',\n\t\ttest: {\n\t\t\tanswerAbove: 2,\n\t\t\tanswerBelow: 20\n\t\t}\n\t})\n\n\tt.true(state.mode === 'test')\n\tt.true(state.test.answerAbove === 2)\n\tt.true(state.test.answerBelow === 20)\n})\n\ntest('QUESTION', (t) => {\n\tlet state = reducer()\n\tt.true(state.bins[0].length === 100)\n\n\tconst question = state.bins[0][0]\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION',\n\t\tquestion\n\t})\n\n\tt.true(state.question.x === question.x)\n\tt.true(state.bins[0].length === 99)\n})\n\ntest('QUESTION_INPUT', (t) => {\n\tlet state = reducer()\n\tt.true(state.input === '')\n\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION_INPUT',\n\t\tinput: '1'\n\t})\n\n\tt.true(state.input === '1')\n})\n\ntest('QUESTION_INPUT: backspace', (t) => {\n\tlet state = reducer()\n\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION_INPUT',\n\t\tinput: '1'\n\t})\n\tt.true(state.input === '1')\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION_INPUT',\n\t\tinput: '1',\n\t\tkey: { name: 'backspace' }\n\t})\n\n\tt.true(state.input === '')\n})\n\ntest('Moves questions upon correct answer', (t) => {\n\tlet state = reducer()\n\tconst questions = state.bins[0]\n\n\t// move all to next bin\n\tquestions.map(question => {\n\t\tstate = reducer(state, {\n\t\t\ttype: 'QUESTION',\n\t\t\tquestion\n\t\t})\n\t\tquestion.answer.split('').map(input => {\n\t\t\tstate = reducer(state, {type: 'QUESTION_INPUT', input})\n\t\t})\n\t})\n\n\tt.true(state.bins[0].length === 0)\n\tt.true(state.bins[1].length === 100)\n\n\t// move one to next bin\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION',\n\t\tquestion: state.bins[1][10]\n\t})\n\tstate.question.answer.split('').map(input => {\n\t\tstate = reducer(state, {type: 'QUESTION_INPUT', input})\n\t})\n\n\tt.true(state.bins[0].length === 0)\n\tt.true(state.bins[1].length === 99)\n\tt.true(state.bins[2].length === 1)\n})\n"]}
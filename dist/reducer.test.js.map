{"version":3,"sources":["../src/reducer.test.js"],"names":[],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,mBAAK,UAAL,EAAiB,UAAC,CAAD,EAAO;AACvB,KAAI,QAAQ,wBAAZ;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,GAAhC;;AAEA,KAAM,WAAW,MAAM,IAAN,CAAW,CAAX,EAAc,CAAd,CAAjB;AACA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,UADgB;AAEtB;AAFsB,EAAf,CAAR;;AAKA,GAAE,IAAF,CAAO,MAAM,QAAN,CAAe,CAAf,KAAqB,SAAS,CAArC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,EAAhC;AACA,CAZD;;AAcA,mBAAK,gBAAL,EAAuB,UAAC,CAAD,EAAO;AAC7B,KAAI,QAAQ,wBAAZ;AACA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,EAAvB;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,gBADgB;AAEtB,SAAO;AAFe,EAAf,CAAR;;AAKA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,GAAvB;AACA,CAVD;;AAYA,mBAAK,2BAAL,EAAkC,UAAC,CAAD,EAAO;AACxC,KAAI,QAAQ,wBAAZ;;AAEA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,gBADgB;AAEtB,SAAO;AAFe,EAAf,CAAR;AAIA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,gBADgB;AAEtB,SAAO,GAFe;AAGtB,OAAK,EAAE,MAAM,WAAR;AAHiB,EAAf,CAAR;;AAMA,GAAE,IAAF,CAAO,MAAM,KAAN,KAAgB,EAAvB;AACA,CAdD;;AAgBA,mBAAK,kCAAL,EAAyC,UAAC,CAAD,EAAO;AAC/C,KAAI,QAAQ,wBAAZ;AACA,KAAM,YAAY,MAAM,IAAN,CAAW,CAAX,CAAlB;;;AAGA,WAAU,GAAV,CAAc,oBAAY;AACzB,UAAQ,uBAAQ,KAAR,EAAe;AACtB,SAAM,UADgB;AAEtB;AAFsB,GAAf,CAAR;AAIA,WAAS,MAAT,CAAgB,KAAhB,CAAsB,EAAtB,EAA0B,GAA1B,CAA8B,iBAAS;AACtC,WAAQ,uBAAQ,KAAR,EAAe,EAAC,MAAM,gBAAP,EAAyB,YAAzB,EAAf,CAAR;AACA,GAFD;AAGA,EARD;;AAUA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,CAAhC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,GAAhC;;;AAGA,SAAQ,uBAAQ,KAAR,EAAe;AACtB,QAAM,UADgB;AAEtB,YAAU,MAAM,IAAN,CAAW,CAAX,EAAc,EAAd;AAFY,EAAf,CAAR;AAIA,OAAM,QAAN,CAAe,MAAf,CAAsB,KAAtB,CAA4B,EAA5B,EAAgC,GAAhC,CAAoC,iBAAS;AAC5C,UAAQ,uBAAQ,KAAR,EAAe,EAAC,MAAM,gBAAP,EAAyB,YAAzB,EAAf,CAAR;AACA,EAFD;;AAIA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,CAAhC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,EAAhC;AACA,GAAE,IAAF,CAAO,MAAM,IAAN,CAAW,CAAX,EAAc,MAAd,KAAyB,CAAhC;AACA,CA9BD","file":"reducer.test.js","sourcesContent":["import reducer from './reducer.js'\nimport test from 'ava'\n\ntest('QUESTION', (t) => {\n\tlet state = reducer()\n\tt.true(state.bins[0].length === 100)\n\n\tconst question = state.bins[0][0]\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION',\n\t\tquestion\n\t})\n\n\tt.true(state.question.x === question.x)\n\tt.true(state.bins[0].length === 99)\n})\n\ntest('QUESTION_INPUT', (t) => {\n\tlet state = reducer()\n\tt.true(state.input === '')\n\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION_INPUT',\n\t\tinput: '1'\n\t})\n\n\tt.true(state.input === '1')\n})\n\ntest('QUESTION_INPUT: backspace', (t) => {\n\tlet state = reducer()\n\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION_INPUT',\n\t\tinput: '1'\n\t})\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION_INPUT',\n\t\tinput: '1',\n\t\tkey: { name: 'backspace' }\n\t})\n\n\tt.true(state.input === '')\n})\n\ntest('Answers correct to all questions', (t) => {\n\tlet state = reducer()\n\tconst questions = state.bins[0]\n\n\t// move all to next bin\n\tquestions.map(question => {\n\t\tstate = reducer(state, {\n\t\t\ttype: 'QUESTION',\n\t\t\tquestion\n\t\t})\n\t\tquestion.answer.split('').map(input => {\n\t\t\tstate = reducer(state, {type: 'QUESTION_INPUT', input})\n\t\t})\n\t})\n\n\tt.true(state.bins[0].length === 0)\n\tt.true(state.bins[1].length === 100)\n\n\t// move one to next bin\n\tstate = reducer(state, {\n\t\ttype: 'QUESTION',\n\t\tquestion: state.bins[1][10]\n\t})\n\tstate.question.answer.split('').map(input => {\n\t\tstate = reducer(state, {type: 'QUESTION_INPUT', input})\n\t})\n\n\tt.true(state.bins[0].length === 0)\n\tt.true(state.bins[1].length === 99)\n\tt.true(state.bins[2].length === 1)\n})\n"]}